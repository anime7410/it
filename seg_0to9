/*
 * File:   main.c
 * Author: MicroEmbedded (Modified for single 7-segment)
 * Description: Display 0 to 9 repeatedly on one 7-segment display using PIC18F4550
 */
#include <pic18f4550.h>
// Define segment bit patterns for digits (adjust for common cathode/anode)
#define ONE     0b0000110
#define TWO     0b1011011
#define THREE   0b1001111
#define FOUR    0b1100110
#define FIVE    0b1101101
#define SIX     0b1111101
#define SEVEN   0b0000111
#define EIGHT   0b1111111
#define NINE    0b1101111
#define ZERO    0b0111111
#define SEG1    LATAbits.LATA0
#define SEG2    LATAbits.LATA1
const unsigned char segData[10] = {
    ZERO, ONE, TWO, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT, NINE
};
// Simple delay function
void delay(unsigned int time)
{
    int i;
    while(time--)
        for(i = 0; i < 500; i++);
}
int main(void)
{
    unsigned char count;
    // Configure PORT directions
    TRISB = 0x00;          // PORTB  output (connected to 7-segment segments)
    LATA = 0x00;
    TRISAbits.TRISA0 = 0;  // RA0 (SEG1 control)  output
    TRISAbits.TRISA1 = 0;  // RA1 (SEG2 control)  output
    // Enable only one 7-segment display (SEG1)
    SEG1 = 1;
    SEG2 = 0;
    while (1)
    {
        // Display digits 0â€“9 repeatedly
        for (count = 0; count < 10; count++)
        {
            LATB = ~segData[count];   // Send segment data to PORTB (invert if common cathode)
            delay(500);               // Adjust for visible delay
        }
    }
    return 0;
}
